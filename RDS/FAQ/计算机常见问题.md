## Linux
---
### Hardware
---
####  Ubuntu 找不到网卡
1. `ip addr` (找到网卡名称）
2. `sudo dhclient enp2s0`（网卡名称）
3. in `/etc/rc.local`, add:

    ```bash
    #!/bin/bash
	
    tt=`/usr/sbin/ip addr | grep enp | awk '{print $2; exit;}'`
    dhclient ${tt//:/}
    
	exit 0
	
    ```

### OS
---
### Application
---
#### apt 安装 package 时显示有 unmet depencencies 无法继续
- 使用 `aptitude install` 代替 `apt install` 

#### `apt` 出现 broken packages
> [E: Unmet dependencies. Try 'apt --fix-broken install' with no packages (or specify a solution)](https://unix.stackexchange.com/questions/537546/e-unmet-dependencies-try-apt-fix-broken-install-with-no-packages-or-speci)

- `sudo apt -o Dpkg::Options::="--force-overwrite" --fix-broken install`

## MAC
---
### Hardware
---
#### MAC 电脑无法 ping 通解决办法
1. `sudo ipconfig set en0 DHC`
2. 断开 wifi，再重新连接
3. 有必要的时候重新设置一下静态 ip 地址
### OS
---
### Application
---
#### 安装软件
> 提示已损坏
- `xattr -r -d com.apple.quarantine /Applications/Alfred\ 4.app`

#### 软件编译
> 显示 `mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')`

- M1 chip compiles code as arm64 architecture. One has to add 'arch -x86_64' before 'make' or 'CC/CXX'.

#### Obsidian
##### 编辑模式下 title 占据了太多空间，致使内容显示太狭窄
- 在设置---> Editor 中，打开 use legacy editor

#### multipass
##### unknown state
> 运行 `multipass start u20` 时显示 u20 instance is running, but in an unknown state.

- stop multipassd
`sudo launchctl unload /Library/LaunchDaemons/com.canonical.multipassd.plist`

- edit `/var/root/Library/Application\ Support/multipassd/multipassd-vm-instances.json`
  - 一般情况下将 state 设置为 0
  - 如果这个文件不小心被破坏了，或者被删除了，就只有重新 `launch` 一个新的 instance 了

- start multipassd again
`sudo launchctl load /Library/LaunchDaemons/com.canonical.multipassd.plist`

##### 新建 instance
- `multipass launch --name u20 -c 4 -m 8G -d 50G`
- `multipass mount /Users/fengh u20:/Users/fengh`
- `multipass mount /Users/opt u20:/Users/opt`
- `multipass mount /opt u20:/opt`
- `multipass shell u20`
- 新建用户 f1 并赋予 sudo 权限
- 以 f1 身份登录 ubuntu
  - sudo apt update &&  sudo apt install ssh （必要时先更新 apt 源）
  - 拷贝 /Users/fengh 下的 各种配置

#### brew
##### download failed
- `brew install xxx -v`
会显示如下类似信息：
```
==> Downloading https://cdn.fork.dev/mac/Fork-2.24.dmg
/opt/Homebrew/Library/Homebrew/shims/shared/curl --disable --cookie /dev/null --globoff --show-error --user-agent Homebrew/3.6.12-20-g9c88c39\ \(Macintosh\;\ arm64\ Mac\ OS\ X\ 13.0.1\)\ curl/7.84.0 --header Accept-Language:\ en --fail --retry 3 --location --remote-time --output /Users/fengh/Library/Caches/Homebrew/downloads/fd06e642a5904d67bcdd9acf19cf3b3b91b76bb70724060e536d8f74f357b4fc--Fork-2.24.dmg.incomplete https://cdn.fork.dev/mac/Fork-2.24.dmg
```
则用其他方式下载该软件，并复制到上面显示的地址和名字（以 incomplete 结尾的那个）。
重新执行安装命令。

## General
### 解决 Github 连接不上的问题

 [http://github.com](https://link.zhihu.com/?target=http%3A//github.com) 有时无法连接，即使翻墙之后也不行，此时可以通过配置本地 Hosts 文件，不再通过 DNS 服务器解析地址而连接。

首先，打开 [http://tool.chinaz.com/dns](https://link.zhihu.com/?target=http%3A//tool.chinaz.com/dns) ，查询 [http://github.global.ssl.fastly.net](https://link.zhihu.com/?target=http%3A//github.global.ssl.fastly.net) 和 [http://assets-cdn.github.com](https://link.zhihu.com/?target=http%3A//assets-cdn.github.com) 两个域名的解析地址，用于替换下方的Hosts配置。

其次，Host 中添加如下配置：

```text
#github

192.30.253.112 Build software better, together
192.30.253.113 Build software better, together
192.30.253.119 gist.github.com
151.101.109.194 github.global.ssl.fastly.net
185.199.108.153  assets-cdn.github.com
151.101.100.133 raw.githubusercontent.com
```

以上，即可通过浏览器正常访问 [http://github.com](https://link.zhihu.com/?target=http%3A//github.com) 。

 [参考](https://zhuanlan.zhihu.com/p/108898992?utm_source=wechat_session)

#computer/software
#faq
#computer/hardware
